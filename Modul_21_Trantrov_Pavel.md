# Модуль 21 - Языки разметки

### Сценарий 3: Оформление заказа, выбор доставки и оплаты

**Цель:** оформить заказ пиццы, выбрать способ доставки и оплаты. 

**Акторы:** пользователь (неавторизованный, авторизованный), сайт.

**Контекст:** когда пользователь выбрал пиццу, топпинги и положил в корзину, он может оформить заказ.

**Предусловие:** пользователь находится на странице сайта “Оформление заказа”.

**Основной сценарий:**

1. Пользователь в Корзине выбирает оформить заказ.

2. Сайт отображает страницу “Оформление заказа” со списком выбранных пицц, их параметрами и топпингами, цены рядом с каждой пиццей и общую сумму заказа, полями имя, телефон, email, варианты получения пиццы “Доставка” и “Самовывоз”, Адрес доставки, Список точке самовывоза, варианты времени получения "Доставить сейчас" и "Ко времени", варианты оплаты.

3. Пользователь заполняет имя, телефон, email, выбирает вариант времени получения, вариант доставки, адрес доставки, вариант оплаты.

4. Сайт отображает введённые пользователем данные, активирует кнопку “Оформить заказ”.

5. Пользователь нажимает кнопку “Оформить заказ”.

6. Сайт отображает сообщение “Спасибо за заказ”, номер заказа, дату и время готовности заказа, список заказанных пицц.

**Альтернативные сценарии:**

*Пользователь выбрал самовывоз ко времени и оплату наличными:*

3. Пользователь заполняет имя, телефон, email, выбирает вариант доставки “Самовывоз”.

4. Сайт отображает окно поиска ближайшей точки самовывоза.

5. Пользователь вводит в окно поиска свой адрес.

6. Сайт отображает ближайшую точку самовывоза и график работы (дни, часы).

7. Пользователь выбирает вариант времени получения “Ко времени” и вариант оплаты “Наличными”, вводит комментарий к заказу.

8. Сайт отображает поля выбора Даты и Времени.

9. Пользователь выбирает дату и интервал времени самовывоза. ТЕСТ КОНФЛИКТА

Переход на шаг 4 Основного сценария.

Пользователь выбрал оплату картой:

3. Пользователь заполняет имя, телефон, email, выбирает вариант времени получения, вариант доставки, адрес доставки, вариант оплаты картой.

4. Сайт отображает поля ввода данных карты “Номер карты”, “Имя держателя”, “ММ/ГГ”, “CVV код”.

5. Пользователь вводит данные карты.

6. Сайт отображает введённые пользователем данные, активирует кнопку “Оплатить”.

*Пользователь выбрал оплату с баланса учётной записи*:

3. Авторизованный пользователь выбирает вариант времени получения, доставку, вариант оплаты с баланса учётной записи.

4. Сайт отображает введённые пользователем данные, активирует кнопку “Оплатить”.

**Исключения:**

*Пользователь удалил все выбранные пиццы на странице “Оформление заказа”:*

3. Пользователь удаляет все выбранные пиццы.

4. Сайт отображает основную страницу со списком пицц.

*Общая сумма пицц не достаточна для выбора доставки:*

3. Пользователь заполняет имя, телефон, email, выбирает “Доставка”.

4. Сайт отображает информационное сообщение, что доставка возможна от суммы Х рублей (переменное значение), кнопка “Оформить заказ” не активная.